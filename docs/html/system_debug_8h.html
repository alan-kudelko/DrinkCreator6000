<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DrinkCreator6000: utility/debug/systemDebug.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DrinkCreator6000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('system_debug_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">systemDebug.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Diagnostics and debug utilities for DrinkCreator6000.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="_drink_creator6000___data_types_8h_source.html">DrinkCreator6000_DataTypes.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for systemDebug.h:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h__incl.png" border="0" usemap="#autility_2debug_2system_debug_8h" loading="lazy" alt=""/></div>
<map name="autility_2debug_2system_debug_8h" id="autility_2debug_2system_debug_8h">
<area shape="rect" title="Diagnostics and debug utilities for DrinkCreator6000." alt="" coords="14,5,201,32"/>
<area shape="rect" href="_drink_creator6000___data_types_8h.html" title="Custom data types for controlling application context in the DrinkCreator6000 project." alt="" coords="5,80,210,107"/>
<area shape="poly" title=" " alt="" coords="110,33,110,64,105,64,105,33"/>
<area shape="rect" title=" " alt="" coords="75,155,140,181"/>
<area shape="poly" title=" " alt="" coords="110,107,110,139,105,139,105,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h__dep__incl.png" border="0" usemap="#autility_2debug_2system_debug_8hdep" loading="lazy" alt=""/></div>
<map name="autility_2debug_2system_debug_8hdep" id="autility_2debug_2system_debug_8hdep">
<area shape="rect" title="Diagnostics and debug utilities for DrinkCreator6000." alt="" coords="213,5,400,32"/>
<area shape="rect" href="_drink_creator6000_8cpp.html" title=" " alt="" coords="5,80,176,107"/>
<area shape="poly" title=" " alt="" coords="256,40,129,82,128,77,254,35"/>
<area shape="rect" href="task_serial_system_debugger_8c.html" title="Implementation of taskSerialSystemDebugger.h." alt="" coords="200,80,413,107"/>
<area shape="poly" title=" " alt="" coords="309,48,309,80,304,80,304,48"/>
<area shape="rect" href="system_debug_8c.html" title=" " alt="" coords="437,80,624,107"/>
<area shape="poly" title=" " alt="" coords="361,35,492,77,490,82,359,40"/>
</map>
</div>
</div>
<p><a href="system_debug_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a47e5605e550a3c5b625deec848f67c84" id="r_a47e5605e550a3c5b625deec848f67c84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47e5605e550a3c5b625deec848f67c84">LAST_BOOTUP_BUFFER_SIZE</a>&#160;&#160;&#160;6</td></tr>
<tr class="memitem:af955b4e80a8271c1532a0c8529c23a64" id="r_af955b4e80a8271c1532a0c8529c23a64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af955b4e80a8271c1532a0c8529c23a64">LAST_ERROR_BUFFER_SIZE</a>&#160;&#160;&#160;51</td></tr>
<tr class="memitem:ab4c121a705ba689834cc3b0f7fc817c7" id="r_ab4c121a705ba689834cc3b0f7fc817c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4c121a705ba689834cc3b0f7fc817c7">RAM_DUMP_BUFFER_LENGTH</a>&#160;&#160;&#160;5</td></tr>
<tr class="memitem:a382365b9e2f37805f49d8a9058700c88" id="r_a382365b9e2f37805f49d8a9058700c88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a382365b9e2f37805f49d8a9058700c88">RAM_DUMP_ADDR_FMT</a>&#160;&#160;&#160;&quot;%04X&quot;</td></tr>
<tr class="memitem:a05c598a07ea8c1703644ec2dc08c6dc8" id="r_a05c598a07ea8c1703644ec2dc08c6dc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05c598a07ea8c1703644ec2dc08c6dc8">RAM_DUMP_SIZE_FMT</a>&#160;&#160;&#160;&quot;%4d&quot;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af5230c88e791c29d3fc48b91e3cecff1" id="r_af5230c88e791c29d3fc48b91e3cecff1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5230c88e791c29d3fc48b91e3cecff1">lastBootup_dump</a> (const uint16_t *bootup)</td></tr>
<tr class="memdesc:af5230c88e791c29d3fc48b91e3cecff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the last bootup counter value via UART.  <br /></td></tr>
<tr class="memitem:a7040df42d4de129147bfd4c4108f92ff" id="r_a7040df42d4de129147bfd4c4108f92ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7040df42d4de129147bfd4c4108f92ff">lastError_dump</a> (const struct <a class="el" href="structs_system_error.html">sSystemError</a> *lastError)</td></tr>
<tr class="memdesc:a7040df42d4de129147bfd4c4108f92ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the last system error via UART.  <br /></td></tr>
<tr class="memitem:a5cce7ae3fbddd6bfb0f67592b3d64841" id="r_a5cce7ae3fbddd6bfb0f67592b3d64841"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5cce7ae3fbddd6bfb0f67592b3d64841">ram_dump</a> (void)</td></tr>
<tr class="memdesc:a5cce7ae3fbddd6bfb0f67592b3d64841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps memory usage via UART.  <br /></td></tr>
<tr class="memitem:a9472642e95bc21b95a29ab213b66f764" id="r_a9472642e95bc21b95a29ab213b66f764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9472642e95bc21b95a29ab213b66f764">task_dump</a> (void)</td></tr>
<tr class="memdesc:a9472642e95bc21b95a29ab213b66f764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps information about all FreeRTOS tasks via UART.  <br /></td></tr>
<tr class="memitem:ad70b4d1510a3e0a0c6928fc21c30ba6c" id="r_ad70b4d1510a3e0a0c6928fc21c30ba6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad70b4d1510a3e0a0c6928fc21c30ba6c">printI2C_status</a> (void)</td></tr>
<tr class="memdesc:ad70b4d1510a3e0a0c6928fc21c30ba6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the current status of the I2C/TWI driver via UART.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Diagnostics and debug utilities for DrinkCreator6000. </p>
<p>This module provides functions to dump system memory usage, last bootup counter, last system errors, and I2C status via UART. It is designed for use in debugging and system monitoring tasks.</p>
<dl class="section note"><dt>Note</dt><dd>All functions use blocking UART calls for simplicity. </dd>
<dd>
Buffer sizes and formatting are defined via macros in this header.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alan Kudełko </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 Alan Kudełko. <br  />
 All rights reserved. <br  />
 For educational and research purposes only. <br  />
 Redistribution, modification, or commercial use prohibited without explicit written permission. </dd></dl>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a47e5605e550a3c5b625deec848f67c84" name="a47e5605e550a3c5b625deec848f67c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e5605e550a3c5b625deec848f67c84">&#9670;&#160;</a></span>LAST_BOOTUP_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAST_BOOTUP_BUFFER_SIZE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer size for last bootup dump </p>

</div>
</div>
<a id="af955b4e80a8271c1532a0c8529c23a64" name="af955b4e80a8271c1532a0c8529c23a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af955b4e80a8271c1532a0c8529c23a64">&#9670;&#160;</a></span>LAST_ERROR_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAST_ERROR_BUFFER_SIZE&#160;&#160;&#160;51</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer size for last error dump </p>

</div>
</div>
<a id="a382365b9e2f37805f49d8a9058700c88" name="a382365b9e2f37805f49d8a9058700c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382365b9e2f37805f49d8a9058700c88">&#9670;&#160;</a></span>RAM_DUMP_ADDR_FMT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DUMP_ADDR_FMT&#160;&#160;&#160;&quot;%04X&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format string for printing 16-bit memory addresses in hexadecimal </p>

</div>
</div>
<a id="ab4c121a705ba689834cc3b0f7fc817c7" name="ab4c121a705ba689834cc3b0f7fc817c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c121a705ba689834cc3b0f7fc817c7">&#9670;&#160;</a></span>RAM_DUMP_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DUMP_BUFFER_LENGTH&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of the buffer used for formatting memory addresses and sizes </p>

</div>
</div>
<a id="a05c598a07ea8c1703644ec2dc08c6dc8" name="a05c598a07ea8c1703644ec2dc08c6dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c598a07ea8c1703644ec2dc08c6dc8">&#9670;&#160;</a></span>RAM_DUMP_SIZE_FMT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DUMP_SIZE_FMT&#160;&#160;&#160;&quot;%4d&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format string for printing memory sizes in decimal </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="af5230c88e791c29d3fc48b91e3cecff1" name="af5230c88e791c29d3fc48b91e3cecff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5230c88e791c29d3fc48b91e3cecff1">&#9670;&#160;</a></span>lastBootup_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lastBootup_dump </td>
          <td>(</td>
          <td class="paramtype">const uint16_t *</td>          <td class="paramname"><span class="paramname"><em>bootup</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps the last bootup counter value via UART. </p>
<p>Prints the last bootup number with a fixed-width format and surrounds it with a hash marker for easier identification.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bootup</td><td>Pointer to the last bootup counter value to print.</td></tr>
  </table>
  </dd>
</dl>
<p>The function formats the value using snprintf for safe buffer usage and sends the output using blocking UART functions. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_cgraph.png" border="0" usemap="#asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_cgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_cgraph" id="asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_cgraph">
<area shape="rect" title="Dumps the last bootup counter value via UART." alt="" coords="5,23,128,50"/>
<area shape="rect" href="uart_8c.html#af2c1e30baca7b5a56455a70d3070ca94" title="Sends a single character over UART (blocking)." alt="" coords="370,23,500,50"/>
<area shape="poly" title=" " alt="" coords="116,20,175,8,249,3,322,8,369,16,368,22,322,14,249,8,176,14,117,25"/>
<area shape="rect" href="uart_8c.html#a641869f983cd6b508fb6873b377770a2" title="Sends a null&#45;terminated string from RAM over UART (blocking)." alt="" coords="184,23,314,50"/>
<area shape="poly" title=" " alt="" coords="128,34,168,34,168,39,128,39"/>
<area shape="rect" href="uart_8c.html#a5f34fecbee99a10464b86997ef9ad94e" title="Sends a null&#45;terminated string stored in PROGMEM over UART (blocking)." alt="" coords="176,74,322,100"/>
<area shape="poly" title=" " alt="" coords="118,48,184,66,183,71,117,53"/>
<area shape="poly" title=" " alt="" coords="314,34,355,34,355,39,314,39"/>
<area shape="poly" title=" " alt="" coords="300,70,368,52,370,57,302,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_icgraph.png" border="0" usemap="#asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_icgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_icgraph" id="asystem_debug_8h_af5230c88e791c29d3fc48b91e3cecff1_icgraph">
<area shape="rect" title="Dumps the last bootup counter value via UART." alt="" coords="103,5,225,32"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a7040df42d4de129147bfd4c4108f92ff" name="a7040df42d4de129147bfd4c4108f92ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7040df42d4de129147bfd4c4108f92ff">&#9670;&#160;</a></span>lastError_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lastError_dump </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structs_system_error.html">sSystemError</a> *</td>          <td class="paramname"><span class="paramname"><em>lastError</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps the last system error via UART. </p>
<p>Prints the error message and the uptime at which the error occurred.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lastError</td><td>Pointer to a <a class="el" href="structs_system_error.html" title="Represents an error event in the system.">sSystemError</a> structure containing:<ul>
<li>errorText: description of the error</li>
<li>days, hours, minutes, seconds: uptime until the failure</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The function formats the output using snprintf with bounds checking and sends it using blocking UART functions. The output is wrapped with X markers and header/footer messages for clarity. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a7040df42d4de129147bfd4c4108f92ff_cgraph.png" border="0" usemap="#asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_cgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_cgraph" id="asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_cgraph">
<area shape="rect" title="Dumps the last system error via UART." alt="" coords="5,23,115,50"/>
<area shape="rect" href="uart_8c.html#af2c1e30baca7b5a56455a70d3070ca94" title="Sends a single character over UART (blocking)." alt="" coords="357,23,487,50"/>
<area shape="poly" title=" " alt="" coords="106,20,162,8,236,3,309,8,356,17,355,22,309,14,236,8,163,14,107,25"/>
<area shape="rect" href="uart_8c.html#a641869f983cd6b508fb6873b377770a2" title="Sends a null&#45;terminated string from RAM over UART (blocking)." alt="" coords="171,23,301,50"/>
<area shape="poly" title=" " alt="" coords="115,34,155,34,155,39,115,39"/>
<area shape="rect" href="uart_8c.html#a5f34fecbee99a10464b86997ef9ad94e" title="Sends a null&#45;terminated string stored in PROGMEM over UART (blocking)." alt="" coords="163,74,309,100"/>
<area shape="poly" title=" " alt="" coords="110,48,173,66,171,71,108,53"/>
<area shape="poly" title=" " alt="" coords="301,34,342,34,342,39,301,39"/>
<area shape="poly" title=" " alt="" coords="287,71,355,52,357,57,289,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a7040df42d4de129147bfd4c4108f92ff_icgraph.png" border="0" usemap="#asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_icgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_icgraph" id="asystem_debug_8h_a7040df42d4de129147bfd4c4108f92ff_icgraph">
<area shape="rect" title="Dumps the last system error via UART." alt="" coords="103,5,212,32"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ad70b4d1510a3e0a0c6928fc21c30ba6c" name="ad70b4d1510a3e0a0c6928fc21c30ba6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70b4d1510a3e0a0c6928fc21c30ba6c">&#9670;&#160;</a></span>printI2C_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void printI2C_status </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the current status of the I2C/TWI driver via UART. </p>
<p>This function provides diagnostic information about the I2C subsystem. It prints the following information to UART using blocking functions:</p><ul>
<li>Ring buffer state (if USE_RING_BUFFER_FOR_BLOCKING_OPERATIONS is enabled)<ul>
<li>whether the TX buffer is empty</li>
<li>head and tail indexes of the TX buffer</li>
<li>current FSM/I2C state</li>
</ul>
</li>
<li>Counters of transmission errors stored in <a class="el" href="struct_i2_c___error_counters__t.html" title="Counters for different I2C/TWI error types.">I2C_ErrorCounters_t</a>:<ul>
<li>bus errors</li>
<li>NACK on address</li>
<li>NACK on data</li>
<li>arbitration lost</li>
<li>unexpected state occurrences</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Uses blocking UART functions (uart_puts_blocking, uart_put_hex_blocking, uart_putc_blocking) so calling this in a time-critical context may introduce latency. </dd>
<dd>
The function is controlled by the macro USE_RING_BUFFER_FOR_BLOCKING_OPERATIONS: if it is set to 1, the ring buffer information is printed; otherwise, only the error counters are shown. </dd></dl>

</div>
</div>
<a id="a5cce7ae3fbddd6bfb0f67592b3d64841" name="a5cce7ae3fbddd6bfb0f67592b3d64841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cce7ae3fbddd6bfb0f67592b3d64841">&#9670;&#160;</a></span>ram_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dump </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps memory usage via UART. </p>
<p>Prints boundaries and sizes of memory sections:</p><ul>
<li>.data</li>
<li>.bss</li>
<li>.tdat</li>
<li>heap</li>
<li>stack</li>
</ul>
<p>Each section's start and end addresses are printed in hexadecimal, and the size is printed in decimal. The output is sent using blocking UART functions.</p>
<dl class="section note"><dt>Note</dt><dd>This function relies on const PROGMEM strings for headers, footers, and separators. </dd>
<dd>
Buffer length and formatting are controlled by RAM_DUMP_BUFFER_LENGTH, RAM_DUMP_ADDR_FMT, and RAM_DUMP_SIZE_FMT macros. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_cgraph.png" border="0" usemap="#asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_cgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_cgraph" id="asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_cgraph">
<area shape="rect" title="Dumps memory usage via UART." alt="" coords="5,56,88,83"/>
<area shape="rect" href="uart_8c.html#a641869f983cd6b508fb6873b377770a2" title="Sends a null&#45;terminated string from RAM over UART (blocking)." alt="" coords="144,5,274,32"/>
<area shape="poly" title=" " alt="" coords="87,54,149,35,150,40,89,59"/>
<area shape="rect" href="uart_8c.html#a5f34fecbee99a10464b86997ef9ad94e" title="Sends a null&#45;terminated string stored in PROGMEM over UART (blocking)." alt="" coords="136,56,282,83"/>
<area shape="poly" title=" " alt="" coords="88,67,120,67,120,72,88,72"/>
<area shape="rect" href="_drink_creator6000___ram_stats_8c.html#a8b8422d6157a1281dab2d0103add13bc" title="Updates internal memory usage counters." alt="" coords="136,107,282,133"/>
<area shape="poly" title=" " alt="" coords="89,80,150,99,149,104,87,85"/>
<area shape="rect" href="uart_8c.html#af2c1e30baca7b5a56455a70d3070ca94" title="Sends a single character over UART (blocking)." alt="" coords="330,31,460,57"/>
<area shape="poly" title=" " alt="" coords="275,25,315,30,315,36,274,30"/>
<area shape="poly" title=" " alt="" coords="282,57,314,52,315,58,283,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_icgraph.png" border="0" usemap="#asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_icgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_icgraph" id="asystem_debug_8h_a5cce7ae3fbddd6bfb0f67592b3d64841_icgraph">
<area shape="rect" title="Dumps memory usage via UART." alt="" coords="467,6,550,32"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,31,55,58"/>
<area shape="poly" title=" " alt="" coords="452,16,382,11,294,8,198,11,103,22,56,36,54,31,102,16,198,6,294,3,382,5,452,10"/>
<area shape="rect" href="task_serial_system_debugger_8c.html#a82f2bfb81de043f58e60f95ea4f8483e" title="FreeRTOS task for serial system debugging." alt="" coords="239,31,419,58"/>
<area shape="poly" title=" " alt="" coords="452,30,420,34,419,29,452,24"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a9eabc803df0648f317c9414e1f8f90d6" title=" " alt="" coords="110,31,184,58"/>
<area shape="poly" title=" " alt="" coords="223,47,184,47,184,42,223,42"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a8b474bc28804b1a6e1dba4f7951657a2" title=" " alt="" coords="103,82,191,108"/>
<area shape="poly" title=" " alt="" coords="264,65,192,85,191,80,263,60"/>
<area shape="poly" title=" " alt="" coords="94,47,55,47,55,42,94,42"/>
<area shape="poly" title=" " alt="" coords="100,78,54,57,56,53,102,73"/>
</map>
</div>

</div>
</div>
<a id="a9472642e95bc21b95a29ab213b66f764" name="a9472642e95bc21b95a29ab213b66f764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9472642e95bc21b95a29ab213b66f764">&#9670;&#160;</a></span>task_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void task_dump </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps information about all FreeRTOS tasks via UART. </p>
<p>Iterates over all tasks in the system and prints their key information:</p><ul>
<li>Task name (padded to configMAX_TASK_NAME_LEN)</li>
<li>High water mark of the stack (usStackHighWaterMark)</li>
<li>Current state (Ready, Running, Blocked, Suspended, Deleted, or Invalid)</li>
<li>Task priority (uxCurrentPriority)</li>
<li>Task index in the task array</li>
</ul>
<p>Each task's information is formatted in a human-readable way and sent using blocking UART functions.</p>
<dl class="section note"><dt>Note</dt><dd>Padding and formatting use temporary buffers on the stack. </dd>
<dd>
MISRA C considerations: snprintf is used with bounds checking to avoid buffer overflows. </dd>
<dd>
This function only prints information for tasks whose handles are not NULL. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a9472642e95bc21b95a29ab213b66f764_cgraph.png" border="0" usemap="#asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_cgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_cgraph" id="asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_cgraph">
<area shape="rect" title="Dumps information about all FreeRTOS tasks via UART." alt="" coords="5,24,91,50"/>
<area shape="rect" href="uart_8c.html#af2c1e30baca7b5a56455a70d3070ca94" title="Sends a single character over UART (blocking)." alt="" coords="333,24,463,50"/>
<area shape="poly" title=" " alt="" coords="89,20,138,9,212,3,285,9,332,17,331,22,285,14,212,8,139,14,90,26"/>
<area shape="rect" href="uart_8c.html#a641869f983cd6b508fb6873b377770a2" title="Sends a null&#45;terminated string from RAM over UART (blocking)." alt="" coords="147,24,277,50"/>
<area shape="poly" title=" " alt="" coords="91,34,131,34,131,40,91,40"/>
<area shape="rect" href="uart_8c.html#a5f34fecbee99a10464b86997ef9ad94e" title="Sends a null&#45;terminated string stored in PROGMEM over UART (blocking)." alt="" coords="139,74,285,101"/>
<area shape="poly" title=" " alt="" coords="92,48,153,67,151,72,90,53"/>
<area shape="poly" title=" " alt="" coords="277,34,318,34,318,40,277,40"/>
<area shape="poly" title=" " alt="" coords="263,71,331,52,333,57,265,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="system_debug_8h_a9472642e95bc21b95a29ab213b66f764_icgraph.png" border="0" usemap="#asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_icgraph" loading="lazy" alt=""/></div>
<map name="asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_icgraph" id="asystem_debug_8h_a9472642e95bc21b95a29ab213b66f764_icgraph">
<area shape="rect" title="Dumps information about all FreeRTOS tasks via UART." alt="" coords="467,31,553,57"/>
<area shape="rect" href="task_serial_system_debugger_8c.html#a82f2bfb81de043f58e60f95ea4f8483e" title="FreeRTOS task for serial system debugging." alt="" coords="239,31,419,57"/>
<area shape="poly" title=" " alt="" coords="452,47,420,47,420,41,452,41"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a9eabc803df0648f317c9414e1f8f90d6" title=" " alt="" coords="110,5,184,32"/>
<area shape="poly" title=" " alt="" coords="223,32,184,26,185,21,224,27"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a8b474bc28804b1a6e1dba4f7951657a2" title=" " alt="" coords="103,56,191,83"/>
<area shape="poly" title=" " alt="" coords="224,61,192,66,191,61,223,56"/>
<area shape="rect" href="_drink_creator6000_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="95,33,56,41,54,36,94,27"/>
<area shape="poly" title=" " alt="" coords="87,59,54,52,55,47,88,54"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_64e73385a8b7738563c26ce10415b58d.html">utility</a></li><li class="navelem"><a href="dir_0954f3fcbc08bc7045aa9240bdc7e333.html">debug</a></li><li class="navelem"><a href="system_debug_8h.html">systemDebug.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
